<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="wj.ssm.mapper.StudentListMapper">
	<resultMap id="BaseResultMap" type="wj.ssm.po.StudentCT">
		<id column="stuId" property="stuid" jdbcType="INTEGER" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="age" property="age" jdbcType="INTEGER" />
		<result column="tName" property="tName" jdbcType="VARCHAR" />
		<result column="course" property="course" jdbcType="VARCHAR" />
		<result column="image" property="image" jdbcType="VARCHAR" />
	</resultMap>
	<select id="studentLimit" parameterType="wj.ssm.po.Page" resultMap="BaseResultMap">
		SELECT
		student.*,
		teacher.t_name tName,
		course.course
		FROM
		student,
		teacher,
		course
		WHERE
		teacher.id = student.t_name
		AND course.id = student.c_name
		limit #{start}, #{size}
	</select>
	<select id="studentList" parameterType="wj.ssm.po.Page" resultMap="BaseResultMap">
		SELECT
		student.*,
		teacher.t_name tName,
		course.course
		FROM
		student,
		teacher,
		course
		WHERE
		teacher.id = student.t_name
		AND course.id = student.c_name
		limit #{start}, #{size}
	</select>
	<select id="studentCount" resultType="java.lang.Integer">
		SELECT
		count(*)
		FROM
		student,
		teacher,
		course
		WHERE
		teacher.id = student.t_name
		AND course.id = student.c_name
	</select>
</mapper>