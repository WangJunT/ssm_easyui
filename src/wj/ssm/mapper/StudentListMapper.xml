<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="wj.ssm.mapper.StudentListMapper">
	<resultMap id="BaseResultMap" type="wj.ssm.po.StudentCT">
		<id column="stuId" property="stuid" jdbcType="INTEGER" />
		<result column="name" property="name" jdbcType="VARCHAR" />
		<result column="age" property="age" jdbcType="INTEGER" />
		<result column="tName" property="tName" jdbcType="VARCHAR" />
		<result column="course" property="course" jdbcType="VARCHAR" />
		<result column="image" property="image" jdbcType="VARCHAR" />
	</resultMap>
	<select id="studentLimit" parameterType="wj.ssm.po.Page" resultMap="BaseResultMap">
		SELECT
		student.*,
		teacher.t_name tName,
		course.course
		FROM
		student,
		teacher,
		course
		WHERE
		teacher.id = student.t_name
		AND course.id = student.c_name
		limit #{start}, #{size}
	</select>
	<select id="studentList" parameterType="wj.ssm.po.Page" resultMap="BaseResultMap">
		SELECT
		student.*,
		teacher.t_name tName,
		course.course
		FROM
		student,
		teacher,
		course
		WHERE
		teacher.id = student.t_name
		AND course.id = student.c_name
		limit #{start}, #{size}
	</select>
	<select id="studentCount" resultType="java.lang.Integer">
		SELECT
		count(*)
		FROM
		student,
		teacher,
		course
		WHERE
		teacher.id = student.t_name
		AND course.id = student.c_name
	</select>
	 <insert id="insertStu" parameterType="wj.ssm.po.StudentVO" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Jul 02 10:29:57 CST 2017.
    -->
    insert into student
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="stuid != null" >
        stuId,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="age != null" >
        age,
      </if>
      <if test="tName != null" >
        t_name,
      </if>
      <if test="course != null" >
        c_name,
      </if>
      <if test="image != null" >
        image,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="stuid != null" >
        #{stuid,jdbcType=INTEGER},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="age != null" >
        #{age,jdbcType=INTEGER},
      </if>
      <if test="tName != null" >
        #{tName,jdbcType=INTEGER},
      </if>
      <if test="course != null" >
        #{course,jdbcType=INTEGER},
      </if>
      <if test="image != null" >
        #{image,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
    <update id="updateByPrimaryKeySel" parameterType="wj.ssm.po.StudentVO" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun Jul 02 10:29:57 CST 2017.
    -->
    update student
    <set >
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="age != null" >
        age = #{age,jdbcType=INTEGER},
      </if>
      <if test="tName != null" >
        t_name = #{tName,jdbcType=INTEGER},
      </if>
      <if test="course != null" >
        c_name = #{course,jdbcType=INTEGER},
      </if>
      <if test="image != null" >
        image = #{image,jdbcType=VARCHAR},
      </if>
    </set>
    where stuId = #{stuid,jdbcType=INTEGER}
  </update>
</mapper>